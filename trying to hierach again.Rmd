---
title: "BNF Sections"
---

```{r}
library(readr)
chemicalcodes <- read_csv("~/Dropbox/D3/T201110CHEM SUBS.CSV")
chemicalcodes <- chemicalcodes %>%
  rename('title' = 'NAME')
chemicalcodes <- chemicalcodes[c(1,2)]
```

```{r}
attempt <- master %>%
  dplyr::left_join(chemicalcodes, by = "title")
```


```{r}


grep(value = TRUE)

attempt2 <- attempt %>%
  filter(!is.na(`CHEM SUB`))

attemptna <- attempt %>%
  filter(is.na(`CHEM SUB`))

failedvector <- attemptna$title

failedvector[1] %>%
  grep(x=chemicalcodes$title, value=TRUE)

failedvector[1] %>%
  grep(x=chemicalcodes$title, value=FALSE)

comparisons <- data.frame()
for (i in 1:length(failedvector)){
  result <- data.frame(x0=failedvector[i],
                    x1=grep(failedvector[i], x=chemicalcodes$title, value=TRUE))
  comparisons <- rbind(comparisons, result)
}

 as.vector(failedvector[1], grep(failedvector[1], x=chemicalcodes$title, value=TRUE))

c(failedvector[1], grep(failedvector[1], x=chemicalcodes$title, value=TRUE))

cbind(failedvector[1], grep(failedvector[1], x=chemicalcodes$title, value=TRUE))

cbind(failedvector[1], c(grep(failedvector[1], x=chemicalcodes$title, value=TRUE)))

failedvector[1]
c(grep(failedvector[1], x=chemicalcodes$title, value=TRUE))



as.vector(grep(failedvector[1], x=chemicalcodes$title, value=TRUE))

chemicalcodes[2569,]
chemicalcodes[2570,]

duplicatevector <- attempt$title[duplicated(attempt$title)]

filter(attempt, title %in% duplicatevector)
```

